{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":9,"column":23,"index":234}}],"key":"o2UvaebosmgxImAY7KlhPO3FnYs=","exportNames":["*"],"imports":1}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":235},"end":{"line":10,"column":57,"index":292}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":293},"end":{"line":11,"column":46,"index":339}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":340},"end":{"line":12,"column":69,"index":409}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _firebaseAuth = require(_dependencyMap[1], \"firebase/auth\");\n  var _firebaseFirestore = require(_dependencyMap[2], \"firebase/firestore\");\n  var _configFirebase = require(_dependencyMap[3], \"../config/firebase\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const useAuth = () => (0, _react.useContext)(AuthContext);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [userData, setUserData] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      const unsubscribe = (0, _firebaseAuth.onAuthStateChanged)(_configFirebase.auth, async user => {\n        setUser(user);\n        if (user) {\n          const userDoc = await (0, _firebaseFirestore.getDoc)((0, _firebaseFirestore.doc)(_configFirebase.db, 'users', user.uid));\n          if (userDoc.exists()) {\n            setUserData(userDoc.data());\n          }\n        } else {\n          setUserData(null);\n        }\n        setLoading(false);\n      });\n      return unsubscribe;\n    }, []);\n    const login = async (email, password) => {\n      const userCredential = await (0, _firebaseAuth.signInWithEmailAndPassword)(_configFirebase.auth, email, password);\n      const userDoc = await (0, _firebaseFirestore.getDoc)((0, _firebaseFirestore.doc)(_configFirebase.db, 'users', userCredential.user.uid));\n      if (userDoc.exists()) {\n        const data = userDoc.data();\n        if (data.isBlocked) {\n          await (0, _firebaseAuth.signOut)(_configFirebase.auth);\n          throw new Error('Your account has been blocked. Please contact admin.');\n        }\n        setUserData(data);\n      }\n    };\n    const signup = async (email, password, name, photoURL) => {\n      const userCredential = await (0, _firebaseAuth.createUserWithEmailAndPassword)(_configFirebase.auth, email, password);\n      await (0, _firebaseAuth.updateProfile)(userCredential.user, {\n        displayName: name,\n        photoURL: photoURL || null\n      });\n      const userData = {\n        uid: userCredential.user.uid,\n        email: email,\n        name: name,\n        role: 'user',\n        photoURL: photoURL || '',\n        isBlocked: false,\n        premiumAccess: false\n      };\n      await (0, _firebaseFirestore.setDoc)((0, _firebaseFirestore.doc)(_configFirebase.db, 'users', userCredential.user.uid), userData);\n      setUserData(userData);\n    };\n    const logout = async () => {\n      await (0, _firebaseAuth.signOut)(_configFirebase.auth);\n      setUser(null);\n      setUserData(null);\n      await AsyncStorage.default.clear();\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        userData,\n        loading,\n        login,\n        signup,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this);\n  };\n});","lineCount":107,"map":[[13,2,35,0,"Object"],[13,8,35,0],[13,9,35,0,"defineProperty"],[13,23,35,0],[13,24,35,0,"exports"],[13,31,35,0],[14,4,35,0,"enumerable"],[14,14,35,0],[15,4,35,0,"get"],[15,7,35,0],[15,18,35,0,"get"],[15,19,35,0],[16,6,35,0],[16,13,35,0,"useAuth"],[16,20,35,0],[17,4,35,0],[18,2,35,0],[19,2,37,0,"Object"],[19,8,37,0],[19,9,37,0,"defineProperty"],[19,23,37,0],[19,24,37,0,"exports"],[19,31,37,0],[20,4,37,0,"enumerable"],[20,14,37,0],[21,4,37,0,"get"],[21,7,37,0],[21,18,37,0,"get"],[21,19,37,0],[22,6,37,0],[22,13,37,0,"AuthProvider"],[22,25,37,0],[23,4,37,0],[24,2,37,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_firebaseAuth"],[26,19,2,0],[26,22,2,0,"require"],[26,29,2,0],[26,30,2,0,"_dependencyMap"],[26,44,2,0],[27,2,10,0],[27,6,10,0,"_firebaseFirestore"],[27,24,10,0],[27,27,10,0,"require"],[27,34,10,0],[27,35,10,0,"_dependencyMap"],[27,49,10,0],[28,2,11,0],[28,6,11,0,"_configFirebase"],[28,21,11,0],[28,24,11,0,"require"],[28,31,11,0],[28,32,11,0,"_dependencyMap"],[28,46,11,0],[29,2,12,0],[29,6,12,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,12,0],[29,45,12,0,"require"],[29,52,12,0],[29,53,12,0,"_dependencyMap"],[29,67,12,0],[30,2,12,0],[30,6,12,0,"AsyncStorage"],[30,18,12,0],[30,21,12,0,"_interopDefault"],[30,36,12,0],[30,37,12,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,12,0],[31,2,12,69],[31,6,12,69,"_reactJsxDevRuntime"],[31,25,12,69],[31,28,12,69,"require"],[31,35,12,69],[31,36,12,69,"_dependencyMap"],[31,50,12,69],[32,2,33,0],[32,8,33,6,"AuthContext"],[32,19,33,17],[32,35,33,20],[32,39,33,20,"createContext"],[32,45,33,33],[32,46,33,33,"createContext"],[32,59,33,33],[32,61,33,51],[32,62,33,52],[32,63,33,72],[32,64,33,73],[33,2,35,7],[33,8,35,13,"useAuth"],[33,15,35,20],[33,18,35,23,"useAuth"],[33,19,35,23],[33,24,35,29],[33,28,35,29,"useContext"],[33,34,35,39],[33,35,35,39,"useContext"],[33,45,35,39],[33,47,35,40,"AuthContext"],[33,58,35,51],[33,59,35,52],[34,2,37,7],[34,8,37,13,"AuthProvider"],[34,20,37,66],[34,23,37,69,"AuthProvider"],[34,24,37,70],[35,4,37,72,"children"],[36,2,37,81],[36,3,37,82],[36,8,37,87],[37,4,38,2],[37,10,38,8],[37,11,38,9,"user"],[37,15,38,13],[37,17,38,15,"setUser"],[37,24,38,22],[37,25,38,23],[37,28,38,26],[37,32,38,26,"useState"],[37,38,38,34],[37,39,38,34,"useState"],[37,47,38,34],[37,49,38,48],[37,53,38,52],[37,54,38,53],[38,4,39,2],[38,10,39,8],[38,11,39,9,"userData"],[38,19,39,17],[38,21,39,19,"setUserData"],[38,32,39,30],[38,33,39,31],[38,36,39,34],[38,40,39,34,"useState"],[38,46,39,42],[38,47,39,42,"useState"],[38,55,39,42],[38,57,39,60],[38,61,39,64],[38,62,39,65],[39,4,40,2],[39,10,40,8],[39,11,40,9,"loading"],[39,18,40,16],[39,20,40,18,"setLoading"],[39,30,40,28],[39,31,40,29],[39,34,40,32],[39,38,40,32,"useState"],[39,44,40,40],[39,45,40,40,"useState"],[39,53,40,40],[39,55,40,41],[39,59,40,45],[39,60,40,46],[40,4,42,2],[40,8,42,2,"useEffect"],[40,14,42,11],[40,15,42,11,"useEffect"],[40,24,42,11],[40,26,42,12],[40,32,42,18],[41,6,43,4],[41,12,43,10,"unsubscribe"],[41,23,43,21],[41,26,43,24],[41,30,43,24,"onAuthStateChanged"],[41,43,43,42],[41,44,43,42,"onAuthStateChanged"],[41,62,43,42],[41,64,43,43,"auth"],[41,79,43,47],[41,80,43,47,"auth"],[41,84,43,47],[41,86,43,49],[41,92,43,56,"user"],[41,96,43,60],[41,100,43,65],[42,8,44,6,"setUser"],[42,15,44,13],[42,16,44,14,"user"],[42,20,44,18],[42,21,44,19],[43,8,45,6],[43,12,45,10,"user"],[43,16,45,14],[43,18,45,16],[44,10,46,8],[44,16,46,14,"userDoc"],[44,23,46,21],[44,26,46,24],[44,32,46,30],[44,36,46,30,"getDoc"],[44,54,46,36],[44,55,46,36,"getDoc"],[44,61,46,36],[44,63,46,37],[44,67,46,37,"doc"],[44,85,46,40],[44,86,46,40,"doc"],[44,89,46,40],[44,91,46,41,"db"],[44,106,46,43],[44,107,46,43,"db"],[44,109,46,43],[44,111,46,45],[44,118,46,52],[44,120,46,54,"user"],[44,124,46,58],[44,125,46,59,"uid"],[44,128,46,62],[44,129,46,63],[44,130,46,64],[45,10,47,8],[45,14,47,12,"userDoc"],[45,21,47,19],[45,22,47,20,"exists"],[45,28,47,26],[45,29,47,27],[45,30,47,28],[45,32,47,30],[46,12,48,10,"setUserData"],[46,23,48,21],[46,24,48,22,"userDoc"],[46,31,48,29],[46,32,48,30,"data"],[46,36,48,34],[46,37,48,35],[46,38,48,48],[46,39,48,49],[47,10,49,8],[48,8,50,6],[48,9,50,7],[48,15,50,13],[49,10,51,8,"setUserData"],[49,21,51,19],[49,22,51,20],[49,26,51,24],[49,27,51,25],[50,8,52,6],[51,8,53,6,"setLoading"],[51,18,53,16],[51,19,53,17],[51,24,53,22],[51,25,53,23],[52,6,54,4],[52,7,54,5],[52,8,54,6],[53,6,56,4],[53,13,56,11,"unsubscribe"],[53,24,56,22],[54,4,57,2],[54,5,57,3],[54,7,57,5],[54,9,57,7],[54,10,57,8],[55,4,59,2],[55,10,59,8,"login"],[55,15,59,13],[55,18,59,16],[55,24,59,16,"login"],[55,25,59,23,"email"],[55,30,59,36],[55,32,59,38,"password"],[55,40,59,54],[55,45,59,59],[56,6,60,4],[56,12,60,10,"userCredential"],[56,26,60,24],[56,29,60,27],[56,35,60,33],[56,39,60,33,"signInWithEmailAndPassword"],[56,52,60,59],[56,53,60,59,"signInWithEmailAndPassword"],[56,79,60,59],[56,81,60,60,"auth"],[56,96,60,64],[56,97,60,64,"auth"],[56,101,60,64],[56,103,60,66,"email"],[56,108,60,71],[56,110,60,73,"password"],[56,118,60,81],[56,119,60,82],[57,6,61,4],[57,12,61,10,"userDoc"],[57,19,61,17],[57,22,61,20],[57,28,61,26],[57,32,61,26,"getDoc"],[57,50,61,32],[57,51,61,32,"getDoc"],[57,57,61,32],[57,59,61,33],[57,63,61,33,"doc"],[57,81,61,36],[57,82,61,36,"doc"],[57,85,61,36],[57,87,61,37,"db"],[57,102,61,39],[57,103,61,39,"db"],[57,105,61,39],[57,107,61,41],[57,114,61,48],[57,116,61,50,"userCredential"],[57,130,61,64],[57,131,61,65,"user"],[57,135,61,69],[57,136,61,70,"uid"],[57,139,61,73],[57,140,61,74],[57,141,61,75],[58,6,63,4],[58,10,63,8,"userDoc"],[58,17,63,15],[58,18,63,16,"exists"],[58,24,63,22],[58,25,63,23],[58,26,63,24],[58,28,63,26],[59,8,64,6],[59,14,64,12,"data"],[59,18,64,16],[59,21,64,19,"userDoc"],[59,28,64,26],[59,29,64,27,"data"],[59,33,64,31],[59,34,64,32],[59,35,64,45],[60,8,65,6],[60,12,65,10,"data"],[60,16,65,14],[60,17,65,15,"isBlocked"],[60,26,65,24],[60,28,65,26],[61,10,66,8],[61,16,66,14],[61,20,66,14,"signOut"],[61,33,66,21],[61,34,66,21,"signOut"],[61,41,66,21],[61,43,66,22,"auth"],[61,58,66,26],[61,59,66,26,"auth"],[61,63,66,26],[61,64,66,27],[62,10,67,8],[62,16,67,14],[62,20,67,18,"Error"],[62,25,67,23],[62,26,67,24],[62,80,67,78],[62,81,67,79],[63,8,68,6],[64,8,69,6,"setUserData"],[64,19,69,17],[64,20,69,18,"data"],[64,24,69,22],[64,25,69,23],[65,6,70,4],[66,4,71,2],[66,5,71,3],[67,4,73,2],[67,10,73,8,"signup"],[67,16,73,14],[67,19,73,17],[67,25,73,17,"signup"],[67,26,73,24,"email"],[67,31,73,37],[67,33,73,39,"password"],[67,41,73,55],[67,43,73,57,"name"],[67,47,73,69],[67,49,73,71,"photoURL"],[67,57,73,88],[67,62,73,93],[68,6,74,4],[68,12,74,10,"userCredential"],[68,26,74,24],[68,29,74,27],[68,35,74,33],[68,39,74,33,"createUserWithEmailAndPassword"],[68,52,74,63],[68,53,74,63,"createUserWithEmailAndPassword"],[68,83,74,63],[68,85,74,64,"auth"],[68,100,74,68],[68,101,74,68,"auth"],[68,105,74,68],[68,107,74,70,"email"],[68,112,74,75],[68,114,74,77,"password"],[68,122,74,85],[68,123,74,86],[69,6,76,4],[69,12,76,10],[69,16,76,10,"updateProfile"],[69,29,76,23],[69,30,76,23,"updateProfile"],[69,43,76,23],[69,45,76,24,"userCredential"],[69,59,76,38],[69,60,76,39,"user"],[69,64,76,43],[69,66,76,45],[70,8,77,6,"displayName"],[70,19,77,17],[70,21,77,19,"name"],[70,25,77,23],[71,8,78,6,"photoURL"],[71,16,78,14],[71,18,78,16,"photoURL"],[71,26,78,24],[71,30,78,28],[72,6,79,4],[72,7,79,5],[72,8,79,6],[73,6,81,4],[73,12,81,10,"userData"],[73,20,81,28],[73,23,81,31],[74,8,82,6,"uid"],[74,11,82,9],[74,13,82,11,"userCredential"],[74,27,82,25],[74,28,82,26,"user"],[74,32,82,30],[74,33,82,31,"uid"],[74,36,82,34],[75,8,83,6,"email"],[75,13,83,11],[75,15,83,13,"email"],[75,20,83,18],[76,8,84,6,"name"],[76,12,84,10],[76,14,84,12,"name"],[76,18,84,16],[77,8,85,6,"role"],[77,12,85,10],[77,14,85,12],[77,20,85,18],[78,8,86,6,"photoURL"],[78,16,86,14],[78,18,86,16,"photoURL"],[78,26,86,24],[78,30,86,28],[78,32,86,30],[79,8,87,6,"isBlocked"],[79,17,87,15],[79,19,87,17],[79,24,87,22],[80,8,88,6,"premiumAccess"],[80,21,88,19],[80,23,88,21],[81,6,89,4],[81,7,89,5],[82,6,91,4],[82,12,91,10],[82,16,91,10,"setDoc"],[82,34,91,16],[82,35,91,16,"setDoc"],[82,41,91,16],[82,43,91,17],[82,47,91,17,"doc"],[82,65,91,20],[82,66,91,20,"doc"],[82,69,91,20],[82,71,91,21,"db"],[82,86,91,23],[82,87,91,23,"db"],[82,89,91,23],[82,91,91,25],[82,98,91,32],[82,100,91,34,"userCredential"],[82,114,91,48],[82,115,91,49,"user"],[82,119,91,53],[82,120,91,54,"uid"],[82,123,91,57],[82,124,91,58],[82,126,91,60,"userData"],[82,134,91,68],[82,135,91,69],[83,6,92,4,"setUserData"],[83,17,92,15],[83,18,92,16,"userData"],[83,26,92,24],[83,27,92,25],[84,4,93,2],[84,5,93,3],[85,4,95,2],[85,10,95,8,"logout"],[85,16,95,14],[85,19,95,17],[85,25,95,17,"logout"],[85,26,95,17],[85,31,95,29],[86,6,96,4],[86,12,96,10],[86,16,96,10,"signOut"],[86,29,96,17],[86,30,96,17,"signOut"],[86,37,96,17],[86,39,96,18,"auth"],[86,54,96,22],[86,55,96,22,"auth"],[86,59,96,22],[86,60,96,23],[87,6,97,4,"setUser"],[87,13,97,11],[87,14,97,12],[87,18,97,16],[87,19,97,17],[88,6,98,4,"setUserData"],[88,17,98,15],[88,18,98,16],[88,22,98,20],[88,23,98,21],[89,6,99,4],[89,12,99,10,"AsyncStorage"],[89,24,99,22],[89,25,99,22,"default"],[89,32,99,22],[89,33,99,23,"clear"],[89,38,99,28],[89,39,99,29],[89,40,99,30],[90,4,100,2],[90,5,100,3],[91,4,102,2],[91,24,103,4],[91,28,103,4,"_reactJsxDevRuntime"],[91,47,103,4],[91,48,103,4,"jsxDEV"],[91,54,103,4],[91,56,103,5,"AuthContext"],[91,67,103,16],[91,68,103,17,"Provider"],[91,76,103,25],[92,6,103,26,"value"],[92,11,103,31],[92,13,103,33],[93,8,103,35,"user"],[93,12,103,39],[94,8,103,41,"userData"],[94,16,103,49],[95,8,103,51,"loading"],[95,15,103,58],[96,8,103,60,"login"],[96,13,103,65],[97,8,103,67,"signup"],[97,14,103,73],[98,8,103,75,"logout"],[99,6,103,82],[99,7,103,84],[100,6,103,84,"children"],[100,14,103,84],[100,16,104,7,"children"],[101,4,104,15],[102,6,104,15,"fileName"],[102,14,104,15],[102,16,104,15,"_jsxFileName"],[102,28,104,15],[103,6,104,15,"lineNumber"],[103,16,104,15],[104,6,104,15,"columnNumber"],[104,18,104,15],[105,4,104,15],[105,11,105,26],[105,12,105,27],[106,2,107,0],[106,3,107,1],[107,0,107,2],[107,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","onAuthStateChanged$argument_1","login","signup","logout"],"mappings":"AAA;uBCkC,6BD;qEEE;YCK;iDCC;KDW;GDG;gBGE;GHY;iBIE;GJoB;iBKE;GLK;CFO"},"hasCjsExports":false},"type":"js/module"}]}