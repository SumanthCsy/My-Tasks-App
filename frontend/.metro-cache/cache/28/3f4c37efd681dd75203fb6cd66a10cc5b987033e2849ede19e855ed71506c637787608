{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"firebase/auth","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":9,"column":23,"index":234}}],"key":"o2UvaebosmgxImAY7KlhPO3FnYs=","exportNames":["*"],"imports":1}},{"name":"firebase/firestore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":10,"column":0,"index":235},"end":{"line":10,"column":57,"index":292}}],"key":"n8ZdwTgQb9oFW01pH/SKxYwC/nA=","exportNames":["*"],"imports":1}},{"name":"../config/firebase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":293},"end":{"line":11,"column":46,"index":339}}],"key":"K/SZPG5sPeV1upVh8dao26aG7MQ=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":12,"column":0,"index":340},"end":{"line":12,"column":69,"index":409}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _firebaseAuth = require(_dependencyMap[1], \"firebase/auth\");\n  var _firebaseFirestore = require(_dependencyMap[2], \"firebase/firestore\");\n  var _configFirebase = require(_dependencyMap[3], \"../config/firebase\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[4], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _reactJsxDevRuntime = require(_dependencyMap[5], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)({});\n  const useAuth = () => {\n    _s();\n    return (0, _react.useContext)(AuthContext);\n  };\n  _s(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n  const AuthProvider = ({\n    children\n  }) => {\n    _s2();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [userData, setUserData] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      const unsubscribe = (0, _firebaseAuth.onAuthStateChanged)(_configFirebase.auth, async user => {\n        setUser(user);\n        if (user) {\n          const userDoc = await (0, _firebaseFirestore.getDoc)((0, _firebaseFirestore.doc)(_configFirebase.db, 'users', user.uid));\n          if (userDoc.exists()) {\n            setUserData(userDoc.data());\n          }\n        } else {\n          setUserData(null);\n        }\n        setLoading(false);\n      });\n      return unsubscribe;\n    }, []);\n    const login = async (email, password) => {\n      const userCredential = await (0, _firebaseAuth.signInWithEmailAndPassword)(_configFirebase.auth, email, password);\n      const userDoc = await (0, _firebaseFirestore.getDoc)((0, _firebaseFirestore.doc)(_configFirebase.db, 'users', userCredential.user.uid));\n      if (userDoc.exists()) {\n        const data = userDoc.data();\n        if (data.isBlocked) {\n          await (0, _firebaseAuth.signOut)(_configFirebase.auth);\n          throw new Error('Your account has been blocked. Please contact admin.');\n        }\n        setUserData(data);\n      }\n    };\n    const signup = async (email, password, name, photoURL) => {\n      const userCredential = await (0, _firebaseAuth.createUserWithEmailAndPassword)(_configFirebase.auth, email, password);\n      await (0, _firebaseAuth.updateProfile)(userCredential.user, {\n        displayName: name,\n        photoURL: photoURL || null\n      });\n      const userData = {\n        uid: userCredential.user.uid,\n        email: email,\n        name: name,\n        role: 'user',\n        photoURL: photoURL || '',\n        isBlocked: false,\n        premiumAccess: false\n      };\n      await (0, _firebaseFirestore.setDoc)((0, _firebaseFirestore.doc)(_configFirebase.db, 'users', userCredential.user.uid), userData);\n      setUserData(userData);\n    };\n    const logout = async () => {\n      await (0, _firebaseAuth.signOut)(_configFirebase.auth);\n      setUser(null);\n      setUserData(null);\n      await AsyncStorage.default.clear();\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        userData,\n        loading,\n        login,\n        signup,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this);\n  };\n  _s2(AuthProvider, \"4Lvrj5jq4weTYzI57B4yrS0C4B0=\");\n  _c = AuthProvider;\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":118,"map":[[15,2,35,0,"Object"],[15,8,35,0],[15,9,35,0,"defineProperty"],[15,23,35,0],[15,24,35,0,"exports"],[15,31,35,0],[16,4,35,0,"enumerable"],[16,14,35,0],[17,4,35,0,"get"],[17,7,35,0],[17,18,35,0,"get"],[17,19,35,0],[18,6,35,0],[18,13,35,0,"useAuth"],[18,20,35,0],[19,4,35,0],[20,2,35,0],[21,2,37,0,"Object"],[21,8,37,0],[21,9,37,0,"defineProperty"],[21,23,37,0],[21,24,37,0,"exports"],[21,31,37,0],[22,4,37,0,"enumerable"],[22,14,37,0],[23,4,37,0,"get"],[23,7,37,0],[23,18,37,0,"get"],[23,19,37,0],[24,6,37,0],[24,13,37,0,"AuthProvider"],[24,25,37,0],[25,4,37,0],[26,2,37,0],[27,2,1,0],[27,6,1,0,"_react"],[27,12,1,0],[27,15,1,0,"require"],[27,22,1,0],[27,23,1,0,"_dependencyMap"],[27,37,1,0],[28,2,2,0],[28,6,2,0,"_firebaseAuth"],[28,19,2,0],[28,22,2,0,"require"],[28,29,2,0],[28,30,2,0,"_dependencyMap"],[28,44,2,0],[29,2,10,0],[29,6,10,0,"_firebaseFirestore"],[29,24,10,0],[29,27,10,0,"require"],[29,34,10,0],[29,35,10,0,"_dependencyMap"],[29,49,10,0],[30,2,11,0],[30,6,11,0,"_configFirebase"],[30,21,11,0],[30,24,11,0,"require"],[30,31,11,0],[30,32,11,0,"_dependencyMap"],[30,46,11,0],[31,2,12,0],[31,6,12,0,"_reactNativeAsyncStorageAsyncStorage"],[31,42,12,0],[31,45,12,0,"require"],[31,52,12,0],[31,53,12,0,"_dependencyMap"],[31,67,12,0],[32,2,12,0],[32,6,12,0,"AsyncStorage"],[32,18,12,0],[32,21,12,0,"_interopDefault"],[32,36,12,0],[32,37,12,0,"_reactNativeAsyncStorageAsyncStorage"],[32,73,12,0],[33,2,12,69],[33,6,12,69,"_reactJsxDevRuntime"],[33,25,12,69],[33,28,12,69,"require"],[33,35,12,69],[33,36,12,69,"_dependencyMap"],[33,50,12,69],[34,2,33,0],[34,8,33,6,"AuthContext"],[34,19,33,17],[34,35,33,20],[34,39,33,20,"createContext"],[34,45,33,33],[34,46,33,33,"createContext"],[34,59,33,33],[34,61,33,51],[34,62,33,52],[34,63,33,72],[34,64,33,73],[35,2,35,7],[35,8,35,13,"useAuth"],[35,15,35,20],[35,18,35,23,"useAuth"],[35,19,35,23],[36,4,35,23,"_s"],[36,6,35,23],[37,4,35,23],[37,11,35,29],[37,15,35,29,"useContext"],[37,21,35,39],[37,22,35,39,"useContext"],[37,32,35,39],[37,34,35,40,"AuthContext"],[37,45,35,51],[37,46,35,52],[38,2,35,52],[39,2,35,53,"_s"],[39,4,35,53],[39,5,35,13,"useAuth"],[39,12,35,20],[40,2,37,7],[40,8,37,13,"AuthProvider"],[40,20,37,66],[40,23,37,69,"AuthProvider"],[40,24,37,70],[41,4,37,72,"children"],[42,2,37,81],[42,3,37,82],[42,8,37,87],[43,4,37,87,"_s2"],[43,7,37,87],[44,4,38,2],[44,10,38,8],[44,11,38,9,"user"],[44,15,38,13],[44,17,38,15,"setUser"],[44,24,38,22],[44,25,38,23],[44,28,38,26],[44,32,38,26,"useState"],[44,38,38,34],[44,39,38,34,"useState"],[44,47,38,34],[44,49,38,48],[44,53,38,52],[44,54,38,53],[45,4,39,2],[45,10,39,8],[45,11,39,9,"userData"],[45,19,39,17],[45,21,39,19,"setUserData"],[45,32,39,30],[45,33,39,31],[45,36,39,34],[45,40,39,34,"useState"],[45,46,39,42],[45,47,39,42,"useState"],[45,55,39,42],[45,57,39,60],[45,61,39,64],[45,62,39,65],[46,4,40,2],[46,10,40,8],[46,11,40,9,"loading"],[46,18,40,16],[46,20,40,18,"setLoading"],[46,30,40,28],[46,31,40,29],[46,34,40,32],[46,38,40,32,"useState"],[46,44,40,40],[46,45,40,40,"useState"],[46,53,40,40],[46,55,40,41],[46,59,40,45],[46,60,40,46],[47,4,42,2],[47,8,42,2,"useEffect"],[47,14,42,11],[47,15,42,11,"useEffect"],[47,24,42,11],[47,26,42,12],[47,32,42,18],[48,6,43,4],[48,12,43,10,"unsubscribe"],[48,23,43,21],[48,26,43,24],[48,30,43,24,"onAuthStateChanged"],[48,43,43,42],[48,44,43,42,"onAuthStateChanged"],[48,62,43,42],[48,64,43,43,"auth"],[48,79,43,47],[48,80,43,47,"auth"],[48,84,43,47],[48,86,43,49],[48,92,43,56,"user"],[48,96,43,60],[48,100,43,65],[49,8,44,6,"setUser"],[49,15,44,13],[49,16,44,14,"user"],[49,20,44,18],[49,21,44,19],[50,8,45,6],[50,12,45,10,"user"],[50,16,45,14],[50,18,45,16],[51,10,46,8],[51,16,46,14,"userDoc"],[51,23,46,21],[51,26,46,24],[51,32,46,30],[51,36,46,30,"getDoc"],[51,54,46,36],[51,55,46,36,"getDoc"],[51,61,46,36],[51,63,46,37],[51,67,46,37,"doc"],[51,85,46,40],[51,86,46,40,"doc"],[51,89,46,40],[51,91,46,41,"db"],[51,106,46,43],[51,107,46,43,"db"],[51,109,46,43],[51,111,46,45],[51,118,46,52],[51,120,46,54,"user"],[51,124,46,58],[51,125,46,59,"uid"],[51,128,46,62],[51,129,46,63],[51,130,46,64],[52,10,47,8],[52,14,47,12,"userDoc"],[52,21,47,19],[52,22,47,20,"exists"],[52,28,47,26],[52,29,47,27],[52,30,47,28],[52,32,47,30],[53,12,48,10,"setUserData"],[53,23,48,21],[53,24,48,22,"userDoc"],[53,31,48,29],[53,32,48,30,"data"],[53,36,48,34],[53,37,48,35],[53,38,48,48],[53,39,48,49],[54,10,49,8],[55,8,50,6],[55,9,50,7],[55,15,50,13],[56,10,51,8,"setUserData"],[56,21,51,19],[56,22,51,20],[56,26,51,24],[56,27,51,25],[57,8,52,6],[58,8,53,6,"setLoading"],[58,18,53,16],[58,19,53,17],[58,24,53,22],[58,25,53,23],[59,6,54,4],[59,7,54,5],[59,8,54,6],[60,6,56,4],[60,13,56,11,"unsubscribe"],[60,24,56,22],[61,4,57,2],[61,5,57,3],[61,7,57,5],[61,9,57,7],[61,10,57,8],[62,4,59,2],[62,10,59,8,"login"],[62,15,59,13],[62,18,59,16],[62,24,59,16,"login"],[62,25,59,23,"email"],[62,30,59,36],[62,32,59,38,"password"],[62,40,59,54],[62,45,59,59],[63,6,60,4],[63,12,60,10,"userCredential"],[63,26,60,24],[63,29,60,27],[63,35,60,33],[63,39,60,33,"signInWithEmailAndPassword"],[63,52,60,59],[63,53,60,59,"signInWithEmailAndPassword"],[63,79,60,59],[63,81,60,60,"auth"],[63,96,60,64],[63,97,60,64,"auth"],[63,101,60,64],[63,103,60,66,"email"],[63,108,60,71],[63,110,60,73,"password"],[63,118,60,81],[63,119,60,82],[64,6,61,4],[64,12,61,10,"userDoc"],[64,19,61,17],[64,22,61,20],[64,28,61,26],[64,32,61,26,"getDoc"],[64,50,61,32],[64,51,61,32,"getDoc"],[64,57,61,32],[64,59,61,33],[64,63,61,33,"doc"],[64,81,61,36],[64,82,61,36,"doc"],[64,85,61,36],[64,87,61,37,"db"],[64,102,61,39],[64,103,61,39,"db"],[64,105,61,39],[64,107,61,41],[64,114,61,48],[64,116,61,50,"userCredential"],[64,130,61,64],[64,131,61,65,"user"],[64,135,61,69],[64,136,61,70,"uid"],[64,139,61,73],[64,140,61,74],[64,141,61,75],[65,6,63,4],[65,10,63,8,"userDoc"],[65,17,63,15],[65,18,63,16,"exists"],[65,24,63,22],[65,25,63,23],[65,26,63,24],[65,28,63,26],[66,8,64,6],[66,14,64,12,"data"],[66,18,64,16],[66,21,64,19,"userDoc"],[66,28,64,26],[66,29,64,27,"data"],[66,33,64,31],[66,34,64,32],[66,35,64,45],[67,8,65,6],[67,12,65,10,"data"],[67,16,65,14],[67,17,65,15,"isBlocked"],[67,26,65,24],[67,28,65,26],[68,10,66,8],[68,16,66,14],[68,20,66,14,"signOut"],[68,33,66,21],[68,34,66,21,"signOut"],[68,41,66,21],[68,43,66,22,"auth"],[68,58,66,26],[68,59,66,26,"auth"],[68,63,66,26],[68,64,66,27],[69,10,67,8],[69,16,67,14],[69,20,67,18,"Error"],[69,25,67,23],[69,26,67,24],[69,80,67,78],[69,81,67,79],[70,8,68,6],[71,8,69,6,"setUserData"],[71,19,69,17],[71,20,69,18,"data"],[71,24,69,22],[71,25,69,23],[72,6,70,4],[73,4,71,2],[73,5,71,3],[74,4,73,2],[74,10,73,8,"signup"],[74,16,73,14],[74,19,73,17],[74,25,73,17,"signup"],[74,26,73,24,"email"],[74,31,73,37],[74,33,73,39,"password"],[74,41,73,55],[74,43,73,57,"name"],[74,47,73,69],[74,49,73,71,"photoURL"],[74,57,73,88],[74,62,73,93],[75,6,74,4],[75,12,74,10,"userCredential"],[75,26,74,24],[75,29,74,27],[75,35,74,33],[75,39,74,33,"createUserWithEmailAndPassword"],[75,52,74,63],[75,53,74,63,"createUserWithEmailAndPassword"],[75,83,74,63],[75,85,74,64,"auth"],[75,100,74,68],[75,101,74,68,"auth"],[75,105,74,68],[75,107,74,70,"email"],[75,112,74,75],[75,114,74,77,"password"],[75,122,74,85],[75,123,74,86],[76,6,76,4],[76,12,76,10],[76,16,76,10,"updateProfile"],[76,29,76,23],[76,30,76,23,"updateProfile"],[76,43,76,23],[76,45,76,24,"userCredential"],[76,59,76,38],[76,60,76,39,"user"],[76,64,76,43],[76,66,76,45],[77,8,77,6,"displayName"],[77,19,77,17],[77,21,77,19,"name"],[77,25,77,23],[78,8,78,6,"photoURL"],[78,16,78,14],[78,18,78,16,"photoURL"],[78,26,78,24],[78,30,78,28],[79,6,79,4],[79,7,79,5],[79,8,79,6],[80,6,81,4],[80,12,81,10,"userData"],[80,20,81,28],[80,23,81,31],[81,8,82,6,"uid"],[81,11,82,9],[81,13,82,11,"userCredential"],[81,27,82,25],[81,28,82,26,"user"],[81,32,82,30],[81,33,82,31,"uid"],[81,36,82,34],[82,8,83,6,"email"],[82,13,83,11],[82,15,83,13,"email"],[82,20,83,18],[83,8,84,6,"name"],[83,12,84,10],[83,14,84,12,"name"],[83,18,84,16],[84,8,85,6,"role"],[84,12,85,10],[84,14,85,12],[84,20,85,18],[85,8,86,6,"photoURL"],[85,16,86,14],[85,18,86,16,"photoURL"],[85,26,86,24],[85,30,86,28],[85,32,86,30],[86,8,87,6,"isBlocked"],[86,17,87,15],[86,19,87,17],[86,24,87,22],[87,8,88,6,"premiumAccess"],[87,21,88,19],[87,23,88,21],[88,6,89,4],[88,7,89,5],[89,6,91,4],[89,12,91,10],[89,16,91,10,"setDoc"],[89,34,91,16],[89,35,91,16,"setDoc"],[89,41,91,16],[89,43,91,17],[89,47,91,17,"doc"],[89,65,91,20],[89,66,91,20,"doc"],[89,69,91,20],[89,71,91,21,"db"],[89,86,91,23],[89,87,91,23,"db"],[89,89,91,23],[89,91,91,25],[89,98,91,32],[89,100,91,34,"userCredential"],[89,114,91,48],[89,115,91,49,"user"],[89,119,91,53],[89,120,91,54,"uid"],[89,123,91,57],[89,124,91,58],[89,126,91,60,"userData"],[89,134,91,68],[89,135,91,69],[90,6,92,4,"setUserData"],[90,17,92,15],[90,18,92,16,"userData"],[90,26,92,24],[90,27,92,25],[91,4,93,2],[91,5,93,3],[92,4,95,2],[92,10,95,8,"logout"],[92,16,95,14],[92,19,95,17],[92,25,95,17,"logout"],[92,26,95,17],[92,31,95,29],[93,6,96,4],[93,12,96,10],[93,16,96,10,"signOut"],[93,29,96,17],[93,30,96,17,"signOut"],[93,37,96,17],[93,39,96,18,"auth"],[93,54,96,22],[93,55,96,22,"auth"],[93,59,96,22],[93,60,96,23],[94,6,97,4,"setUser"],[94,13,97,11],[94,14,97,12],[94,18,97,16],[94,19,97,17],[95,6,98,4,"setUserData"],[95,17,98,15],[95,18,98,16],[95,22,98,20],[95,23,98,21],[96,6,99,4],[96,12,99,10,"AsyncStorage"],[96,24,99,22],[96,25,99,22,"default"],[96,32,99,22],[96,33,99,23,"clear"],[96,38,99,28],[96,39,99,29],[96,40,99,30],[97,4,100,2],[97,5,100,3],[98,4,102,2],[98,24,103,4],[98,28,103,4,"_reactJsxDevRuntime"],[98,47,103,4],[98,48,103,4,"jsxDEV"],[98,54,103,4],[98,56,103,5,"AuthContext"],[98,67,103,16],[98,68,103,17,"Provider"],[98,76,103,25],[99,6,103,26,"value"],[99,11,103,31],[99,13,103,33],[100,8,103,35,"user"],[100,12,103,39],[101,8,103,41,"userData"],[101,16,103,49],[102,8,103,51,"loading"],[102,15,103,58],[103,8,103,60,"login"],[103,13,103,65],[104,8,103,67,"signup"],[104,14,103,73],[105,8,103,75,"logout"],[106,6,103,82],[106,7,103,84],[107,6,103,84,"children"],[107,14,103,84],[107,16,104,7,"children"],[108,4,104,15],[109,6,104,15,"fileName"],[109,14,104,15],[109,16,104,15,"_jsxFileName"],[109,28,104,15],[110,6,104,15,"lineNumber"],[110,16,104,15],[111,6,104,15,"columnNumber"],[111,18,104,15],[112,4,104,15],[112,11,105,26],[112,12,105,27],[113,2,107,0],[113,3,107,1],[114,2,107,2,"_s2"],[114,5,107,2],[114,6,37,13,"AuthProvider"],[114,18,37,66],[115,2,37,66,"_c"],[115,4,37,66],[115,7,37,13,"AuthProvider"],[115,19,37,66],[116,2,37,66],[116,6,37,66,"_c"],[116,8,37,66],[117,2,37,66,"$RefreshReg$"],[117,14,37,66],[117,15,37,66,"_c"],[117,17,37,66],[118,0,37,66],[118,3]],"functionMap":{"names":["<global>","useAuth","AuthProvider","useEffect$argument_0","onAuthStateChanged$argument_1","login","signup","logout"],"mappings":"AAA;uBCkC,6BD;qEEE;YCK;iDCC;KDW;GDG;gBGE;GHY;iBIE;GJoB;iBKE;GLK;CFO"},"hasCjsExports":false},"type":"js/module"}]}